<style>
	div {
		background-color: grey;
		display: inline-block;
		margin: 30px;
		width: 100px;
		height: 100px;
		border-radius: 50px;
		;
	}

	.green.light {
		background-color: green;
	}

	.yellow.light {
		background-color: yellow;
	}

	.red.light {
		background-color: red;
	}
</style>


<div class="red"></div>
<div class="yellow"></div>
<div class="green"></div>


<!-- <button id="next" onclick="go();">开始</button> -->

<script>
    function green(){
        clear()
        const green =document.querySelector('.green');
        green.classList.add('light');     
       

    }
    function red(){
        clear()
        const red =document.querySelector('.red');
        red.classList.add('light');
       
    }
    function yellow(){
        clear()
        const yellow =document.querySelector('.yellow');
        yellow.classList.add('light');
      
    }
    function clear(){
        var lights = document.getElementsByTagName("div");
		for (var i = 0; i < 3; i++)
			lights[i].classList.remove("light")


    }
    //red() 1s  yellow()2s  green() 3s  
    //callback
    let i=0;

    function  once(){
        i++
        if(i>5)return;
        red()
        setTimeout(()=>{
            yellow();
            setTimeout(()=>{
                green();
                setTimeout(()=>{
                    once();
                },3000)
            },2000)
        },1000)
    }
//    red 1s yellow 2s  green 3s 循环五次

// function Promise((resolve,reject) =>{

//    })











async function  loop(){
    for(let i=0;i<5;i++){
       await once();
    }
    loop
}
</script>